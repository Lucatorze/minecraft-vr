<html>
  <head>
    <script src="https://aframe.io/releases/0.7.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-teleport-controls@0.2.x/dist/aframe-teleport-controls.min.js"></script>
    <script src="https://unpkg.com/aframe-controller-cursor-component@0.2.x/dist/aframe-controller-cursor-component.min.js"></script>
    <script src="random-texture.js"></script>
    <script src="walkMode.js"></script>
    <script src="editMode.js"></script>
    <script src="move_camera_forward.js"></script>
    <script src="test.js"></script>
    <script src="snap.js"></script>
    <script src="intersection-spawn.js"></script>
    <script src="https://cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.0.1/dist/aframe-physics-system.min.js"></script>


    <script>
      AFRAME.registerComponent('focus', {

        init: function () {
          var el = this.el;  // <a-box>
          el.addEventListener('mousedown', function(evt) {
            console.log(evt.detail.intersection);
          });

        }
      });

    </script>
  </head>


<body>
  <a-scene fog="type: linear; color: #90b7ee; far: 220; near: 0;">
    
    <a-assets>
      <img id="groundTexture" src="https://cdn.glitch.com/4cab6208-5a2b-49c5-9be1-0e436b6f3c15%2F11635-v7.jpg?1519771249182">
      <img id="skyTexture" src="https://cdn.glitch.com/4cab6208-5a2b-49c5-9be1-0e436b6f3c15%2Fminecraft_background___grass___by_jabjabjab-d30egxg.png?1519771250297">
      <img id="log" src="https://cdn.glitch.com/4cab6208-5a2b-49c5-9be1-0e436b6f3c15%2Fil_570xN.839219362_k7kz.jpg?1519771242272">
      <img id="leaves" src="https://cdn.glitch.com/4cab6208-5a2b-49c5-9be1-0e436b6f3c15%2F65040929317ccf2d9afd4fae4b59df42.png?1519771242025">
      <a-mixin id="voxel"
         geometry="primitive: box; height: 0.5; width: 0.5; depth: 0.5"
         material="shader: standard"
         random-texture
         snap="offset: 0.3 0.3 0.3; snap: 0.5 0.5 0.5"
      ></a-mixin>
    </a-assets>
    
    <a-entity geometry=" primitive: plane; height: 9; width: 9" position="20 55 -50" material="shader: standard; transparent: true; side: double; true; src: url(https://cdn.glitch.com/4cab6208-5a2b-49c5-9be1-0e436b6f3c15%2Fsun.png?1519804557866)"></a-entity>

    <!-- Clouds -->
    <a-entity geometry="primitive: box; depth: 3; height: 1; width: 2" position="-25 20 10" material="shader: standard; opacity: 0.8; color: #fff"></a-entity>

    <a-entity geometry="primitive: box; depth: 5; height: 1; width: 2" position="-40 20 -30" material="shader: standard; opacity: 0.8; color: #fff"></a-entity>

    <a-entity geometry="primitive: box; depth: 3; height: 1; width: 2" position="-10 20 -50" material="shader: standard; opacity: 0.8; color: #fff"></a-entity>

    <a-entity geometry="primitive: box; depth: 5; height: 1; width: 2" position="-20 20 -35" material="shader: standard; opacity: 0.8; color: #fff"></a-entity>

    <a-entity geometry="primitive: box; depth: 5; height: 1; width: 2" position="-10 20 -20" material="shader: standard; opacity: 0.8; color: #fff"></a-entity>

    <a-entity geometry="primitive: box; depth: 3; height: 1; width: 2" position="-12 20 -20" material="shader: standard; opacity: 0.8; color: #fff"></a-entity>

    <a-entity geometry="primitive: box; depth: 5; height: 1; width: 2" position="0 20 -10" material="shader: standard; opacity: 0.8; color: #fff"></a-entity>

    <a-entity geometry="primitive: box; depth: 2; height: 1; width: 2" position="-28 20 -10" material="shader: standard; opacity: 0.8; color: #fff"></a-entity>       
    
    <a-cylinder focus id="ground" material="src:#groundTexture; repeat: 100 100" radius="90" height="0.1"></a-cylinder>

    <a-sky color="#a9c8e3"></a-sky>
    
    <a-box color="#6E6E6E" depth="9" height="0.5" width="20" position="10 30 20" geometry="height:0.5;depth:20" static-body></a-box>
    <a-text position="14 29 25" geometry="primitive:plane" value="Walk Mod" text="color:#ff0000;height:50;width:50" rotation="90 180 0" walk></a-text>
    <a-text position="14 29 15" geometry="primitive:plane" value="Edit Mod" text="color:#ff0000;height:50;width:50" rotation="90 180 0" edit></a-text>

    <!-- Hands. -->

    <!-- Right Trees -->
    <a-box material="src:#log" depth="2" height="4" width="0.5" position="-2 0.3 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#log" depth="2" height="4" width="0.5" position="-2 0.8 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#log" depth="2" height="4" width="0.5" position="-2 1.3 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#log" depth="2" height="4" width="0.5" position="-2 1.8 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#log" depth="2" height="4" width="0.5" position="-2 2.3 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#log" depth="2" height="4" width="0.5" position="-2 2.8 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-1.5 3.3 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-1.5 2.8 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2.5 2.8 -5.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-1 2.8 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-1.5 2.3 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2.5 3.3 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2.5 2.8 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2.5 2.8 -6.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-3 2.8 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2.5 2.3 -6" geometry="height:0.5;depth:0.5" static-body></a-box>
    
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2 3.3 -6.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2 2.8 -6.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-1.5 2.8 -6.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2 2.8 -7" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2 2.3 -6.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2 3.3 -5.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2 2.8 -5.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-1.5 2.8 -5.5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2 2.8 -5" geometry="height:0.5;depth:0.5" static-body></a-box>
    <a-box material="src:#leaves" depth="2" height="4" width="0.5" position="-2 2.3 -5.5" geometry="height:0.5;depth:0.5" static-body></a-box>

    <!--intersection-spawn="event: click; mixin: voxel"-->
    <!-- Camera. -->    
    <a-camera camera
          sound="src: https://cdn.glitch.com/86898e5d-de85-4e17-a514-dfb5bd641dfd%2FVolume%20Alpha%20-%2008%20-%20Minecraft.mp3?1519742809914; autoplay: true"
              wasd-controls="enabled:false">
      <a-cursor intersection-spawn="event: click; mixin: voxel"></a-cursor>
    </a-camera>
  </a-scene>
</body>
</html>
